---
title: "[#2] Theory and Examples of Distributed Systems"
tags:
    - CS
    - Distributed Systems
    - Study
date: "2025-03-07"
thumbnail: "/assets/img/thumbnail/Distributed_2.png"
bookmark: true
---

ì €ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” ë¶„ì‚° ì‹œìŠ¤í…œì´ ë“±ì¥í•˜ê²Œ ëœ ë°°ê²½ê³¼, ë¶„ì‚° ì‹œìŠ¤í…œì˜ íŠ¹ì§•ì— ëŒ€í•´ì„œ ê°„ë‹¨í•˜ê²Œ ì •ë¦¬í•˜ì˜€ë‹¤.

ë‹¨ì¼ ì‹œìŠ¤í…œì˜ í•œê³„ë¥¼ ê·¹ë³µí•˜ê¸° ìœ„í•´ ì–´ë–»ê²Œ ì†Œí”„íŠ¸ì›¨ì–´ì ì¸ ì ‘ê·¼ ë°©ì‹ì´ í•„ìš”í•´ì¡ŒëŠ”ì§€, ê·¸ë¦¬ê³  ë¶„ì‚° ì‹œìŠ¤í…œì´ ê°€ì ¸ì•¼ í•  ë™ì‹œì„±, ì¥ì•  í—ˆìš©, í™•ì¥ì„±, íˆ¬ëª…ì„± ë“±ì˜ íŠ¹ì„±ì— ëŒ€í•´ ì‚´í´ë³´ì•˜ì—ˆë‹¤.

ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” ì´ë¡ ì ì¸ ê¸°ë°˜ ìœ„ì—, ì‹¤ì œ í˜„ì—…ì—ì„œëŠ” ë¶„ì‚° ì‹œìŠ¤í…œì´ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ í™œìš©ë˜ê³  ìˆëŠ”ì§€ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì‚´í´ë³´ê³ ì í•œë‹¤.


## ğŸ’» 1. ë¶„ì‚° ì‹œìŠ¤í…œì˜ ì´ë¡ 

### ğŸ’» 1.1. BASE ì›ì¹™ - NoSQLì˜ ìœ ì—°ì„±ì„ ìœ„í•œ ì›ì¹™
---
í˜„ëŒ€ì˜ ëŒ€ê·œëª¨ ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œëŠ” ë°ì´í„° ì¼ê´€ì„±ë³´ë‹¤ ê°€ìš©ì„±ê³¼ ì„±ëŠ¥ì´ ë” ì¤‘ìš”í•´ì§€ëŠ” ê²½ìš°ê°€ ë§ë‹¤. ì´ëŸ¬í•œ ìš”êµ¬ë¥¼ ë§Œì¡±ì‹œí‚¤ê¸° ìœ„í•´ ë“±ì¥í•œ ê°œë…ì´ ë°”ë¡œ ***BASE ì›ì¹™***ì´ë‹¤. ***BASE***ëŠ” ì „í†µì ì¸ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì‚¬ìš©í•˜ëŠ” ***ACID ì›ì¹™***ê³¼ ëŒ€ë¹„ë˜ëŠ” ê°œë…ìœ¼ë¡œ, íŠ¹íˆ `NoSQL` ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ìì£¼ ì‚¬ìš©ë˜ëŠ” ì„¤ê³„ ì² í•™ì´ë‹¤.

### 1ï¸âƒ£ ***BASEì˜ ìš”ì†Œ***
BASEëŠ” ë‹¤ìŒì˜ ì„¸ ê°€ì§€ í•µì‹¬ ìš”ì†Œë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤.

âœ… **Basically Available (ê¸°ë³¸ì ì¸ ê°€ìš©ì„±)**
ì‹œìŠ¤í…œ ì „ì²´ê°€ ì™„ì „íˆ ì¤‘ë‹¨ë˜ëŠ” ì¼ì€ ì—†ë„ë¡ ë³´ì¥í•˜ëŠ” ì›ì¹™ì´ë‹¤. ì¼ë¶€ ë…¸ë“œì— ì¥ì• ê°€ ë°œìƒí•˜ë”ë¼ë„ ì „ì²´ ì‹œìŠ¤í…œì€ ë™ì‘í•˜ë©°, ìµœì†Œí•œì˜ ê¸°ëŠ¥ì€ ê³„ì† ìœ ì§€ëœë‹¤. ì´ë¥¼ ìœ„í•´ ë°ì´í„° ë³µì œ(replica)ë¥¼ ìˆ˜í–‰í•˜ë©°, ë™ì¼í•œ ë°ì´í„°ë¥¼ ì—¬ëŸ¬ ë…¸ë“œì— ë¶„ì‚°í•˜ì—¬ ì €ì¥í•œë‹¤.

âœ… **Soft State (ìœ ì—°í•œ ìƒíƒœ)**
ë°ì´í„°ì˜ ìƒíƒœê°€ í•­ìƒ ì¼ê´€ì ì´ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤ëŠ” ê°œë…ì´ë‹¤. ì¼ì • ì‹œì ì—ì„œ ì¡°íšŒí•œ ë°ì´í„°ì™€ ì´í›„ ì‹œì ì˜ ë°ì´í„°ê°€ ë‹¤ë¥¼ ìˆ˜ ìˆìœ¼ë©°, ì´ì— ëŒ€í•œ ì¼ê´€ì„± ìœ ì§€ ì±…ì„ì€ ì‹œìŠ¤í…œì´ ì•„ë‹Œ ì‚¬ìš©ì ë˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ê²Œ ìˆë‹¤.

ì˜ˆì‹œë¡œ í•˜ë‘¡ì„ í•˜ë‚˜ ì´ì•¼ê¸°í•´ë³´ë©´, Write í•œ ë°ì´í„°ë¥¼ ë™ì‹œì— 0.0001ì´ˆë§Œì— ë³µì œí•˜ëŠ”ê²Œ ì•„ë‹ˆê¸° ë•Œë¬¸ì—, ì•„ì§ ë‹¤ë¥¸ ë°ì´í„° ë…¸ë“œë“¤ì— ë³µì œê°€ ë˜ì§€ ì•Šì€ ì‹œì ì´ ìˆì„ ìˆ˜ ìˆë‹¤.

âœ… **Eventually Consistent (ìµœì¢…ì ì¸ ì¼ê´€ì„±)**
ëª¨ë“  ë…¸ë“œê°€ ì¦‰ì‹œ ë™ì¼í•œ ë°ì´í„°ë¥¼ ê°€ì§€ì§€ëŠ” ì•Šì§€ë§Œ, ì‹œê°„ì´ ì§€ë‚˜ë©´ ê²°êµ­ ì¼ê´€ëœ ìƒíƒœë¡œ ìˆ˜ë ´í•˜ê²Œ ëœë‹¤ëŠ” ê°œë…ì´ë‹¤. ì¦‰, ì•½ê°„ì˜ ì§€ì—°ì€ ìˆì„ ìˆ˜ ìˆìœ¼ë‚˜, ë°ì´í„°ëŠ” ê²°êµ­ ì €ì¥ë˜ê³  ì¡°íšŒ ê°€ëŠ¥í•˜ê²Œ ëœë‹¤.

ìœ„ì— ì˜ˆì‹œë¥¼ ì´ì–´ê°€ë³´ìë©´, Write ì™€ ë™ì‹œì— ë³µì œë¥¼ í•  ìˆ˜ëŠ” ì—†ì§€ë§Œ, ê²°êµ­ì€ ë‚´ë¶€ ì •ì±…ì— ë”°ë¥¸ ë³µì œê°€ ì™„ë£Œê°€ ëœë‹¤.


### 2ï¸âƒ£ ***BASEì˜ íŠ¹ì§•***
BASEëŠ” ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë³´ì¥í•˜ëŠ” ACID ì›ì¹™ê³¼ëŠ” ì •ë°˜ëŒ€ì˜ ë°©í–¥ì„ ì§€í–¥í•œë‹¤.
ACIDëŠ” íŠ¸ëœì­ì…˜ì˜ ì›ìì„±, ì¼ê´€ì„±, ê³ ë¦½ì„±, ì§€ì†ì„±ì„ ê°•ì¡°í•˜ë©°, ì€í–‰ ì‹œìŠ¤í…œê³¼ ê°™ì´ ì •í•©ì„±ì´ ì¤‘ìš”í•œ ì—…ë¬´ì— ì í•©í•˜ë‹¤.
ë°˜ë©´ BASEëŠ” ì¦‰ê°ì ì¸ ì¼ê´€ì„±(immediate consistency)ì„ í¬ê¸°í•˜ê³ , ëŒ€ì‹  ë†’ì€ ê°€ìš©ì„±ê³¼ ì„±ëŠ¥, í™•ì¥ì„±ì„ ì¶”êµ¬í•œë‹¤.

ê²°ê³¼ì ìœ¼ë¡œ BASEëŠ” ì‚¬ìš©ì ê²½í—˜ì„ ìš°ì„ ì‹œí•˜ëŠ” ì‹œìŠ¤í…œ, ì˜ˆë¥¼ ë“¤ì–´ SNS, ì‹¤ì‹œê°„ ê´‘ê³  ì‹œìŠ¤í…œ, ëŒ€ê·œëª¨ ë¡œê·¸ ë¶„ì„ í”Œë«í¼ ë“±ì— ì í•©í•œ ë°©ì‹ì´ë‹¤.


### 3ï¸âƒ£ ***BASEì˜ ì‚¬ë¡€***
**Facebook** ê´‘ê³  í”Œë«í¼ì˜ ë¦¬í¬íŠ¸ ì¡°íšŒ ì‚¬ë¡€ë¥¼ í†µí•´ ***BASE*** ì›ì¹™ì„ ì´í•´í•  ìˆ˜ ìˆë‹¤.

ì‚¬ìš©ìê°€ ê´‘ê³  ë¦¬í¬íŠ¸ë¥¼ ì¡°íšŒí•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë°ì´í„°ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

> â€œì„œìš¸ ì§€ì—­ì— ë…¸ì¶œëœ ê´‘ê³ ëŠ” ì´ `10,000` ê±´ì´ë©°, ê·¸ ì¤‘ `1,000` ê±´ì´ íƒ€ê²ŸíŒ…ë˜ì—ˆê³ , ì´ ì¤‘ ë‚¨ì„±ì€ `100` ëª…ì´ì—ˆë‹¤.â€

ê·¸ëŸ¬ë‚˜ 10ë¶„ í›„ ë‹¤ì‹œ ì¡°íšŒí•˜ë©´ ê²°ê³¼ê°€ ì¡°ê¸ˆ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤.

> â€œì„œìš¸ ì§€ì—­ ë…¸ì¶œì€ `10,000` ê±´ìœ¼ë¡œ ë™ì¼í•˜ì§€ë§Œ, íƒ€ê²ŸíŒ…ì€ `1,060` ê±´, ë‚¨ì„±ì€ `102` ëª…ìœ¼ë¡œ ëŠ˜ì–´ë‚¬ë‹¤.â€

ì´ëŠ” ë°ì´í„°ê°€ ì ì§„ì ìœ¼ë¡œ ìˆ˜ë ´í•˜ê³  ìˆë‹¤ëŠ” ì‚¬ì‹¤ì„ ë³´ì—¬ì¤€ë‹¤. ì¦‰, ì²˜ìŒì—ëŠ” ì™„ì „í•œ ì¼ê´€ì„±ì´ ì—†ë”ë¼ë„, ì‹œê°„ì´ ì§€ë‚˜ë©´ ì „ì²´ ë°ì´í„°ê°€ ì •í™•íˆ ë°˜ì˜ëœë‹¤ëŠ” BASE ì›ì¹™ì˜ ***Eventually Consistent***ë¥¼ ë°˜ì˜í•œ ì˜ˆì‹œì´ë‹¤.

ë§ˆì¼€í„°ëŠ” ì²˜ìŒ ì¡°íšŒí•œ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë…¸ì¶œ : íƒ€ê²ŸíŒ… : ë‚¨ì = 100 : 10 : 1ì´ë¼ëŠ” ì„±ê³¼ë¥¼ ì¸¡ì •í•˜ê³  ì „ëµì„ ìˆ˜ë¦½í•œë‹¤.

ì´í›„ ë°ì´í„°ê°€ ê°±ì‹ ë˜ë”ë¼ë„, ì‚¬ìš©ìëŠ” ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì „ëµì„ ìœ ì—°í•˜ê²Œ ì¡°ì •í•  ìˆ˜ ìˆë‹¤.



### ğŸ’» 1.2. CAP ì›ì¹™ - ë¶„ì‚° ì‹œìŠ¤í…œì˜ í•µì‹¬ ë”œë ˆë§ˆ
---
ë¶„ì‚° ì‹œìŠ¤í…œì„ ì„¤ê³„í•˜ë‹¤ ë³´ë©´ ìì£¼ ë§ˆì£¼í•˜ê²Œ ë˜ëŠ” ê°œë…ì´ ìˆë‹¤. ë°”ë¡œ **CAP Theorem(CAP ì •ë¦¬)**ì´ë‹¤. ì´ ì´ë¡ ì€ ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œ ë™ì‹œì— ë§Œì¡±ì‹œí‚¤ê¸° ì–´ë ¤ìš´ ì„¸ ê°€ì§€ ì†ì„±ì„ ì •ì˜í•˜ë©°, ì‹¤ì§ˆì ì¸ ì‹œìŠ¤í…œ ì„¤ê³„ ì‹œ ì–´ë–¤ ê²ƒì„ ì„ íƒí•˜ê³  ë¬´ì—‡ì„ í¬ê¸°í• ì§€ë¥¼ ê²°ì •í•˜ëŠ” ê¸°ì¤€ì´ ëœë‹¤.

### 1ï¸âƒ£ ***CAPì˜ ì„¸ ê°€ì§€ ìš”ì†Œ***
CAPì€ ì•„ë˜ì˜ ì„¸ ê°€ì§€ ìš”ì†Œë¥¼ ì˜ë¯¸í•œë‹¤.

âœ… ***Consistency (ì¼ê´€ì„±)***
ë¶„ì‚°ëœ ì‹œìŠ¤í…œ í™˜ê²½ì—ì„œë„ ëª¨ë“  ë…¸ë“œê°€ í•­ìƒ ë™ì¼í•œ ë°ì´í„°ë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤ëŠ” ê°œë…ì´ë‹¤.
ì—¬ëŸ¬ í´ë¼ì´ì–¸íŠ¸ê°€ ë™ì‹œì— ë™ì¼í•œ ìš”ì²­ì„ í•˜ë”ë¼ë„ ê°™ì€ ì‘ë‹µì„ ë°›ì•„ì•¼ í•˜ë©°, ì´ëŠ” ë°ì´í„° ì •í•©ì„±ì„ ìœ ì§€í•˜ëŠ” ë° í•µì‹¬ì ì¸ ì†ì„±ì´ë‹¤.

ì°¸ê³ ë¡œ, ì—¬ê¸°ì„œ ë§í•˜ëŠ” ì¼ê´€ì„±ì€ ACIDì˜ C(Consistency)ì™€ëŠ” ë‹¤ë¥´ë‹¤. ACIDëŠ” íŠ¸ëœì­ì…˜ì´ ëë‚¬ì„ ë•Œ ë°ì´í„°ê°€ ë¬´ê²°í•œ ìƒíƒœì„ì„ ì˜ë¯¸í•˜ì§€ë§Œ, CAPì—ì„œì˜ ConsistencyëŠ” ì‹œìŠ¤í…œ ì „ì²´ì˜ ë°ì´í„° ë™ê¸°í™”ë¥¼ ë§í•œë‹¤.

âœ… ***Availability (ê°€ìš©ì„±)***
ì‹œìŠ¤í…œì˜ ì¼ë¶€ êµ¬ì„± ìš”ì†Œì— ì¥ì• ê°€ ë°œìƒí•´ë„, ì „ì²´ ì„œë¹„ìŠ¤ëŠ” ì¤‘ë‹¨ë˜ì§€ ì•Šê³  ì •ìƒì ìœ¼ë¡œ ì‘ë‹µí•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤ëŠ” ê°œë…ì´ë‹¤.
ì¦‰, ì‚¬ìš©ìê°€ ì–¸ì œ ì–´ë–¤ ìš”ì²­ì„ í•˜ë“  ì‹œìŠ¤í…œì€ í•­ìƒ ì‘ë‹µí•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.

âœ… ***Partition Tolerance (ë¶„í•  ë‚´ì„±)***
ì‹œìŠ¤í…œì„ êµ¬ì„±í•˜ëŠ” ë…¸ë“œ ê°„ ë„¤íŠ¸ì›Œí¬ê°€ ë‹¨ì ˆë˜ë”ë¼ë„, ê° ë…¸ë“œëŠ” ë…ë¦½ì ìœ¼ë¡œ ì‘ë™í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤ëŠ” ê°œë…ì´ë‹¤.
ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œëŠ” ë„¤íŠ¸ì›Œí¬ ì¥ì• (Partition)ê°€ ë¶ˆê°€í”¼í•˜ê²Œ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ì´ë¥¼ ê²¬ë”œ ìˆ˜ ìˆëŠ” ì„¤ê³„ê°€ í•„ìš”í•˜ë‹¤.

> â— CAP ì´ë¡ ì˜ í•µì‹¬: ì…‹ ì¤‘ ë‘˜ë§Œ ì„ íƒ ê°€ëŠ¥
> ì´ë¡ ì ìœ¼ë¡œ í•˜ë‚˜ì˜ ì‹œìŠ¤í…œì´ C, A, Pë¥¼ ëª¨ë‘ ì™„ë²½íˆ ì§€ì›í•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•˜ë‹¤.
> ë”°ë¼ì„œ ì„¤ê³„ìëŠ” ì„¸ ê°€ì§€ ì¤‘ ë‘ ê°€ì§€ ì†ì„±ë§Œì„ ë§Œì¡±í•˜ê³ , í•˜ë‚˜ëŠ” í¬ê¸°í•´ì•¼ í•œë‹¤.
> í˜„ì‹¤ì ìœ¼ë¡œëŠ” ëŒ€ë¶€ë¶„ Partition Toleranceë¥¼ ë°˜ë“œì‹œ í™•ë³´í•´ì•¼ í•˜ë¯€ë¡œ, CA, CP, AP ì¤‘ì—ì„œ ì„ íƒí•˜ëŠ” êµ¬ì¡°ê°€ ëœë‹¤.


### 2ï¸âƒ£ ***CA ì‹œìŠ¤í…œ***
**CA(ì¼ê´€ì„±ê³¼ ê°€ìš©ì„±)**ëŠ” ë„¤íŠ¸ì›Œí¬ íŒŒí‹°ì…˜ì´ ì—†ë‹¤ëŠ” ì „ì œ í•˜ì—, ë°ì´í„° ì •í•©ì„±ê³¼ ì‹œìŠ¤í…œ ê°€ìš©ì„±ì„ ë™ì‹œì— ë³´ì¥í•˜ëŠ” ì‹œìŠ¤í…œì´ë‹¤.
í•˜ì§€ë§Œ ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œëŠ” ë„¤íŠ¸ì›Œí¬ ì¥ì• ê°€ í•„ì—°ì ìœ¼ë¡œ ë°œìƒí•˜ê¸° ë•Œë¬¸ì—, ì—„ë°€íˆ ë§í•˜ë©´ ***CAëŠ” ì™„ì „í•œ ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œëŠ” ì ìš©ë  ìˆ˜ ì—†ë‹¤.***
ë°ì´í„° ì •í•©ì„±ì´ ë›°ì–´ë‚˜ê³  í•­ìƒ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì¥ì ì´ ìˆì§€ë§Œ, Partitionì´ ë°œìƒí•˜ë©´ ëŒ€ì‘ ë¶ˆê°€í•˜ë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤ã€‚

ï¼ ì˜ˆì‹œ: ì „í†µì ì¸ `RDBMS`, `MongoDB` (ë‹¨ì¼ ë…¸ë“œì¼ ê²½ìš°)


### 3ï¸âƒ£ ***AP ì‹œìŠ¤í…œ***
**AP(ê°€ìš©ì„±ê³¼ ë¶„í•  ë‚´ì„±)**ëŠ” ì‹œìŠ¤í…œì´ í•­ìƒ ì‘ë‹µí•  ìˆ˜ ìˆë„ë¡ í•˜ë©´ì„œë„, ë„¤íŠ¸ì›Œí¬ ë‹¨ì ˆ ìƒí™©ì—ì„œë„ ì„œë¹„ìŠ¤ë¥¼ ê³„ì† ì œê³µí•  ìˆ˜ ìˆë‹¤.
ë‹¨, ê·¸ ëŒ€ê°€ë¡œ ë°ì´í„° ì •í•©ì„±ì€ ì¼ì‹œì ìœ¼ë¡œ ë³´ì¥ë˜ì§€ ì•ŠëŠ”ë‹¤. ë°ì´í„°ëŠ” ì‹œê°„ì´ ì§€ë‚˜ë©´ì„œ ê²°êµ­ ì •í•©ì„±ì„ ë§ì¶”ê²Œ ë˜ëŠ” Eventual Consistency ëª¨ë¸ì„ ë”°ë¥¸ë‹¤.
ì¥ì• ê°€ ë°œìƒí•´ë„ ì‚¬ìš©ì ì…ì¥ì—ì„œëŠ” ì§€ì†ì ì¸ ì‘ë‹µì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì¥ì ì´ ìˆì§€ë§Œ ì¦‰ê°ì ì¸ ë°ì´í„° ì •í•©ì„±ì´ ì—†ê³ ã€ ë™ì‹œí™” ì‹œì  ì´ì „ì—ëŠ” ë°ì´í„°ê°€ ë¶ˆì¼ì¹˜ í•  ìˆ˜ ìˆë‹¤ëŠ” ë‹¨ì ì´ ì¡´ì¬í•œë‹¤ã€‚

ï¼ ì˜ˆì‹œ: `Cassandra`, `HBase`, `Druid` ë“±ì˜ í˜„ëŒ€ì  ë¶„ì‚° ë°ì´í„°ë² ì´ìŠ¤


### 4ï¸âƒ£ ***CP ì‹œìŠ¤í…œ***
ì–´ë–¤ ìƒí™©ì—ì„œë„ íŒŒí‹°ì…˜ì— ëŒ€í•´ì„œ ì´ìš©ê°€ëŠ¥í•˜ê³ , ***Consistency***ë„ ë³´ì¥ë˜ì–´ì•¼ í•œë‹¤.
í•˜ì§€ë§Œ ê°€ìš©ì„±ì´ ì—†ë‹¤ë©´, íŒŒí‹°ì…˜ ìƒí™©ì—ì„œ ***Consistency***ê°€ ê°€ëŠ¥í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì—, ***ì´ëŸ° ë¶„ì‚° ì‹œìŠ¤í…œì€ ì¡´ì¬í•  ìˆ˜ ì—†ë‹¤.***


### 5ï¸âƒ£ ***CAP ì´ë¡ ì˜ í•œê³„***
CAPì€ ë¶„ì‚° ì‹œìŠ¤í…œì˜ ì„¤ê³„ì— ìˆì–´ ì¤‘ìš”í•œ ê¸°ì¤€ì´ ë˜ì§€ë§Œ, ì´ ì´ë¡  ì—­ì‹œ ì™„ë²½í•œ í˜„ì‹¤ ëª¨ë¸ì€ ì•„ë‹ˆë‹¤.
ì™„ì „í•œ CP ë˜ëŠ” AP ì‹œìŠ¤í…œì€ ì‹¤ì œë¡œ ì¡´ì¬í•˜ê¸° ì–´ë µë‹¤. ì™œ ê·¸ëŸ°ì§€ ì•„ë˜ì—ì„œ êµ¬ì²´ì ìœ¼ë¡œ ì‚´í´ë³´ì.

âŒ ***ì™„ë²½í•œ CP ì‹œìŠ¤í…œì´ ì¡´ì¬í•  ìˆ˜ ì—†ëŠ” ì´ìœ ***
CP(Consistency + Partition-Tolerance)ëŠ” ë°ì´í„° ì •í•©ì„±ì„ ìœ ì§€í•˜ë©´ì„œ ë„¤íŠ¸ì›Œí¬ ë¶„í• ì—ë„ ê²¬ë””ëŠ” êµ¬ì¡°ë¥¼ ì˜ë¯¸í•œë‹¤.
í•˜ì§€ë§Œ, ì™„ë²½í•œ ì¼ê´€ì„±ì„ ìœ ì§€í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì¡°ê±´ì„ ë§Œì¡±í•´ì•¼ í•œë‹¤
 - ëª¨ë“  íŠ¸ëœì­ì…˜ì€ ëª¨ë“  ë…¸ë“œì— ë³µì œê°€ ì™„ë£Œë˜ì–´ì•¼ë§Œ ì„±ê³µ ì²˜ë¦¬ëœë‹¤.
 - í•˜ë‚˜ì˜ ë…¸ë“œë¼ë„ ë³µì œì— ì‹¤íŒ¨í•˜ê±°ë‚˜ ë„¤íŠ¸ì›Œí¬ì— ë¬¸ì œê°€ ìƒê¸°ë©´ íŠ¸ëœì­ì…˜ ì „ì²´ê°€ ì‹¤íŒ¨í•œë‹¤.
 - ë…¸ë“œ ìˆ˜ê°€ ë§ì•„ì§ˆìˆ˜ë¡ ì§€ì—° ì‹œê°„ì€ ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ ì¦ê°€í•˜ê²Œ ëœë‹¤.
ê²°êµ­, ì´ëŸ° êµ¬ì¡°ëŠ” ê°€ìš©ì„±ì€ ë¬¼ë¡  ì„±ëŠ¥ê¹Œì§€ í¬ìƒí•˜ê²Œ ëœë‹¤.
ì´ëŸ´ ë°”ì—ì•¼ êµ³ì´ ë¶„ì‚° ì‹œìŠ¤í…œì„ ì‚¬ìš©í•  ì´ìœ ê°€ ì‚¬ë¼ì§„ë‹¤. ë‹¨ì¼ ë…¸ë“œ ì‹œìŠ¤í…œì´ ë” íš¨ìœ¨ì ì¼ ìˆ˜ë„ ìˆë‹¤.

> ì˜ˆë¥¼ ë“¤ì–´, ì‚¬ìš©ìê°€ ê²°ì œ ìš”ì²­ì„ ë³´ëƒˆì„ ë•Œ, ì „ ì„¸ê³„ ë°ì´í„°ì„¼í„° ëª¨ë‘ì— ë³µì œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë ¤ì•¼ í•œë‹¤ë©´? ì‹¤ì‹œê°„ ì‘ë‹µì´ í•„ìš”í•œ ì„œë¹„ìŠ¤ì—ì„œëŠ” ê°ë‹¹í•˜ê¸° ì–´ë µë‹¤.

âŒ ***ì™„ë²½í•œ AP ì‹œìŠ¤í…œë„ í˜„ì‹¤ì ì´ì§€ ì•Šë‹¤***
AP(Availability + Partition-Tolerance)ëŠ” ì‹œìŠ¤í…œì´ ì–¸ì œë“ ì§€ ì‘ë‹µí•  ìˆ˜ ìˆì–´ì•¼ í•˜ë©°, ë„¤íŠ¸ì›Œí¬ ë¶„í•  ìƒí™©ì—ì„œë„ ë™ì‘ì„ ìœ ì§€í•´ì•¼ í•œë‹¤.
í•˜ì§€ë§Œ, ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œê°€ ë°œìƒí•œë‹¤
 - ê³ ë¦½ëœ ë…¸ë“œ(Partition ìƒíƒœ)ëŠ” ì •ìƒ ë…¸ë“œë“¤ê³¼ ë°ì´í„° ë™ê¸°í™”ê°€ ë˜ì§€ ì•ŠëŠ”ë‹¤.
 - ê³ ë¦½ëœ ë…¸ë“œê°€ ê³„ì†í•´ì„œ ì‚¬ìš©ìì˜ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê³  ì‘ë‹µí•œë‹¤ë©´, ì´ëŠ” ê³§ ë°ì´í„° ë¶ˆì¼ì¹˜ë¡œ ì´ì–´ì§„ë‹¤.
 - ì‚¬ìš©ì ì…ì¥ì—ì„œëŠ” ì •ìƒì ìœ¼ë¡œ ë³´ì´ëŠ” ì„œë¹„ìŠ¤ê°€ ë’¤ëŠ¦ê²Œ ë°ì´í„° ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤.
ê²°êµ­ ì´ëŸ° ì‹œìŠ¤í…œì€ ê°€ìš©ì„±ì€ ë†’ì§€ë§Œ ì‹ ë¢°ë„ëŠ” ë‚®ë‹¤.
ì„œë¹„ìŠ¤ í’ˆì§ˆì„ ìœ ì§€í•´ì•¼ í•˜ëŠ” ìƒìš© ì‹œìŠ¤í…œì—ì„œëŠ” ì‰½ê²Œ ì±„íƒí•˜ê¸° ì–´ë µë‹¤.

> ì˜ˆë¥¼ ë“¤ì–´, ì–´ë–¤ ì‚¬ìš©ìê°€ ë„¤íŠ¸ì›Œí¬ ê³ ë¦½ëœ ë…¸ë“œë¥¼ í†µí•´ ê²Œì‹œê¸€ì„ ì‘ì„±í–ˆë‹¤ë©´, ì´ ë°ì´í„°ëŠ” ë‹¤ë¥¸ ë…¸ë“œì—ì„œëŠ” ë³´ì´ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤. ê·¸ ì‚¬ìš©ìë§Œ ìœ ë ¹ ë°ì´í„°ë¥¼ ë³´ê²Œ ë˜ëŠ” ì…ˆì´ë‹¤.

âš–ï¸ ***ê²°êµ­ ì¤‘ìš”í•œ ê²ƒì€ ê· í˜•***
CAP Theoremì€ "í•˜ë‚˜ë¥¼ í¬ê¸°í•˜ë¼"ëŠ” ì´ë¡ ì´ì§€ë§Œ, í˜„ì‹¤ì˜ ì‹œìŠ¤í…œë“¤ì€ CPì™€ AP ì‚¬ì´ì—ì„œì˜ ê· í˜•ì ì„ ì°¾ìœ¼ë ¤ í•œë‹¤.
ì™œëƒí•˜ë©´ ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œ ë„¤íŠ¸ì›Œí¬ íŒŒí‹°ì…˜ì€ ì–¸ì œë“  ë°œìƒí•  ìˆ˜ ìˆëŠ” ì „ì œ ì¡°ê±´ì´ê¸° ë•Œë¬¸ì´ë‹¤.

ì¼ê´€ì„±ì´ ì¤‘ìš”í•œ ì„œë¹„ìŠ¤ëŠ” CPì— ê°€ê¹ê²Œ ì„¤ê³„í•œë‹¤.

ê°€ìš©ì„±ì´ ì¤‘ìš”í•œ ì„œë¹„ìŠ¤ëŠ” APì— ê°€ê¹ê²Œ ì„¤ê³„í•œë‹¤.

ê·¸ë¦¬ê³  ëŒ€ë¶€ë¶„ì˜ ë¶„ì‚°ì‹œìŠ¤í…œì€ ê°•í•œ ì¼ê´€ì„±(Strong Consistency)ë³´ë‹¤ëŠ” **ì•½í•œ ì¼ê´€ì„±(Weak Consistency)**ì„ ê°ìˆ˜í•˜ê³  ê°€ìš©ì„±ì„ íƒí•œë‹¤.



### ğŸ’» 1.3. PACELC ì´ë¡  - CAP ë¥¼ ë³´ì™„í•˜ê³ ì ë“±ì¥
---
CAP ì´ë¡ ì€ ë¶„ì‚° ì‹œìŠ¤í…œ ì„¤ê³„ì— ìˆì–´ ì¤‘ìš”í•œ ê¸°ë°˜ì´ì§€ë§Œ, ë„¤íŠ¸ì›Œí¬ê°€ ë¶„í• ë˜ì—ˆì„ ë•Œì˜ ìƒí™©ë§Œì„ ê³ ë ¤í•œë‹¤ëŠ” í•œê³„ê°€ ìˆë‹¤.
ì •ìƒ ìƒí™©ì—ì„œì˜ ì‹œìŠ¤í…œ ë™ì‘ê¹Œì§€ ì„¤ëª…í•˜ê¸°ì—” ë¶€ì¡±í•˜ë‹¤.
ì´ëŸ¬í•œ í•œê³„ë¥¼ ë³´ì™„í•˜ê¸° ìœ„í•´ ë“±ì¥í•œ ê°œë…ì´ ë°”ë¡œ PACELC ì´ë¡ ì´ë‹¤.

***PACELC*** ëŠ”
P(partition)ìƒí™©ì—ì„œ A(availability)ê³¼ C(consistency)ì˜ ìƒì¶© ê´€ê³„ì™€ E(else, ì •ìƒ)ìƒí™©ì—
ì„œ L(latency)ê³¼ C(consistency)ì˜ ìƒì¶© ê´€ê³„ë¥¼ ì„¤ëª…í•œë‹¤.


### 1ï¸âƒ£ ***PACELCë€?***
PACELCëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë‘ ê°€ì§€ ìƒí™©ì„ ëª¨ë‘ ê³ ë ¤í•˜ëŠ” ëª¨ë¸ì´ë‹¤.

 - ***P:*** Partitionì´ ë°œìƒí–ˆì„ ê²½ìš°
	â†’ A(Availability) vs C(Consistency)

 - ***ELSE:*** Partitionì´ ë°œìƒí•˜ì§€ ì•Šì•˜ì„ ê²½ìš° (ì •ìƒ ìƒí™©)
	â†’ L(Latency) vs C(Consistency)

ì¦‰, PACELCëŠ” ë„¤íŠ¸ì›Œí¬ ë¶„í• (Partition) ìƒí™©ì—ì„œì˜ Trade-offì™€
**ì •ìƒì ì¸ ìš´ì˜ ìƒí™©(Else)**ì—ì„œì˜ Trade-offë¥¼ ë™ì‹œì— ê³ ë ¤í•´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.

> âœ”ï¸ ì´ë¦„ì˜ ì˜ë¯¸:
> PACELC = If P then A or C, Else L or C

### 2ï¸âƒ£ ***PACELCì˜ Trade-off êµ¬ì¡°***
PACELC ì´ë¡ ì€ ë‹¨ìˆœíˆ â€œì–´ëŠ í•˜ë‚˜ë¥¼ í¬ê¸°í•˜ë¼â€ëŠ” ê´€ì ì´ ì•„ë‹ˆë¼,
ë¶„ì‚° ì‹œìŠ¤í…œì´ ì²˜í•œ ìƒíƒœì— ë”°ë¼ ìœ ì—°í•˜ê²Œ ì„ íƒí•˜ëŠ” ì ‘ê·¼ì„ ì œì‹œí•œë‹¤.

âœ… ***Partition ìƒí™© ë°œìƒ ì‹œ***
Consistency ìœ ì§€ vs Availability í¬ê¸°
â†’ ëª¨ë“  ë…¸ë“œì— ë°ì´í„° ë™ê¸°í™”ë¥¼ ê¸°ë‹¤ë¦¼ (CP ëª¨ë¸)
â†’ ì˜ˆ: HBase

Availability ìœ ì§€ vs Consistency í¬ê¸°
â†’ ì¼ë¶€ ë…¸ë“œë§Œ ì‘ë‹µ ê°€ëŠ¥í•˜ê²Œ í—ˆìš© (AP ëª¨ë¸)
â†’ ì˜ˆ: Cassandra

âœ… ***Partitionì´ ë°œìƒí•˜ì§€ ì•Šì€ ì •ìƒ ìƒí™©***
Consistency ìœ ì§€ vs Latency ì¦ê°€
â†’ ëª¨ë“  ë…¸ë“œì— ë³µì œ í›„ ì‘ë‹µ â†’ ì‘ë‹µ ì§€ì—° ë°œìƒ
â†’ ì˜ˆ: Strong consistency

Latency í™•ë³´ vs Consistency ì•½í™”
â†’ ë¹ ë¥¸ ì‘ë‹µì„ ìš°ì„  â†’ ì´í›„ ë™ê¸°í™” (Eventual consistency)

> ğŸ” ì˜ˆë¥¼ ë“¤ì–´, CassandraëŠ” PACELC ê¸°ì¤€ìœ¼ë¡œ "PA/EL" ëª¨ë¸ì´ë‹¤.
> Partition ìƒí™©ì—ì„œëŠ” Availabilityë¥¼ ìš°ì„ í•˜ë©°, ì •ìƒ ìƒíƒœì—ì„œëŠ” ë‚®ì€ ì§€ì—°ì‹œê°„(Latency)ì„ ìš°ì„ í•œë‹¤.

https://magenta-ming.tistory.com/43